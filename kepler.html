<!DOCTYPE html>
<html>
  <head>
    <meta charset="us-ascii">
  </head>

  <body>
    <canvas id="canvas" width="640" height="480">
    </canvas>

    <script type="text/javascript">
      var TWO_PI  = 2 * Math.PI,
          RADIANS = Math.PI / 180

      function Body(name) {
        this.name     = name
        this.children = []
      }

      Body.prototype.addChild = function(child) {
        this.children.push(child)
      }

      Body.prototype.draw = function(ctx, t) {
        var i

        ctx.beginPath()
        ctx.arc(0, 0, 0.03125, 0, TWO_PI, true)
        ctx.fill()

        for(i = this.children.length; i--; )
          this.children[i].draw(ctx, t)
      }

      function KeplerBody(
        name,
        eccentricity,
        periapsis,
        inclination,
        longitudeOfAscendingNode,
        argumentOfPerifocus,
        timeOfPeriapsis,
        meanMotion,
        meanAnomaly,
        trueAnomaly,
        semimajor,
        apoapsis,
        period
      ) {
        Body.call(this, name)
        this.periapsis    = periapsis
        this.apoapsis     = apoapsis
        this.semimajor    = semimajor
        this.semiminor    = Math.sqrt(periapsis * apoapsis)
        this.eccentricity = eccentricity
        this.inclination  = inclination * RADIANS
        this.longitude    = longitudeOfAscendingNode * RADIANS
        this.argument     = argumentOfPerifocus * RADIANS
        this.meanAnomaly  = meanAnomaly * RADIANS
        this.meanMotion   = meanMotion * RADIANS
      }

      KeplerBody.prototype.__proto__ = Body.prototype

      KeplerBody.prototype.draw = function(ctx, t) {
        var meanAnomaly = this.meanAnomaly + this.meanMotion * t,
            eccAnomaly  = meanAnomaly

        eccAnomaly = meanAnomaly + this.eccentricity * Math.sin(eccAnomaly)
        eccAnomaly = meanAnomaly + this.eccentricity * Math.sin(eccAnomaly)

        var trueAnomaly = Math.PI - 2 * Math.atan2(
              Math.sqrt(1 - this.eccentricity) * Math.cos(eccAnomaly * 0.5),
              Math.sqrt(1 + this.eccentricity) * Math.sin(eccAnomaly * 0.5)
            )

        ctx.save()
        ctx.rotate(-this.longitude)
        ctx.scale(1, Math.cos(this.inclination))
        ctx.rotate(-this.argument)
        ctx.translate(this.periapsis - this.semimajor, 0)
        ctx.scale(1, this.semiminor / this.semimajor)

        /*
        ctx.beginPath()
        ctx.arc(0, 0, this.semimajor, 0, TWO_PI, true)
        ctx.stroke()
        */

        ctx.rotate(-trueAnomaly)
        ctx.translate(this.semimajor, 0)
        ctx.rotate(trueAnomaly)
        ctx.scale(1, this.semimajor / this.semiminor)
        ctx.rotate(this.argument)
        ctx.scale(1, 1 / Math.cos(this.inclination))
        ctx.rotate(this.longitude)

        Body.prototype.draw.call(this, ctx, t)

        ctx.restore()
      }

      var canvas = document.getElementById("canvas"),
          ctx    = canvas.getContext("2d"),
          sol    = new Body("Sol"),
          start

      sol.addChild(new KeplerBody(
        "Mercury",
         2.056302942128498E-01, 3.074990929205437E-01, 7.005015817746640E+00,
         4.833054124561678E+01, 2.912427858919899E+01,  2451502.287121505011,
         4.092346153579799E+00, 1.747958840172690E+02, 1.764950870217263E+02,
         3.870982121804850E-01, 4.666973314404263E-01, 8.796909804051847E+01
      ))

      sol.addChild(new KeplerBody(
        "Venus",
        6.755786580298123E-03, 7.184402851373205E-01, 3.394589972387207E+00,
        7.667838198116145E+01, 5.518595780861867E+01,  2451513.720261435956,
        1.602148088396929E+00, 5.011477334622277E+01, 5.071202975369376E+01,
        7.233269274872068E-01, 7.282135698370932E-01, 2.246983300777193E+02
      ))

      sol.addChild(new KeplerBody(
        "Earth",
        1.711862907035846E-02, 9.833225165510696E-01, 4.185450226517964E-04,
        1.351086207541469E+02, 3.267003161387815E+02,  2451546.403877350502,
        9.849459659243318E-01, 3.586172566668234E+02, 3.585688860932975E+02,
        1.000448828957874E+00, 1.017575141364678E+00, 3.655022838355956E+02
      ))

      sol.addChild(new KeplerBody(
        "Mars",
        9.331510163651754E-02, 1.381496733245213E+00, 1.849876432291736E+00,
        4.956200626315645E+01, 2.865373825700824E+02,  2451508.062923411839,
        5.240393796687103E-01, 1.935648270200058E+01, 2.333319659853387E+01,
        1.523678993373266E+00, 1.665861253501319E+00, 6.869712734710633E+02
      ))

      sol.addChild(new KeplerBody(
        "Ceres",
        7.837566697457678E-02, 2.549670050504195E+00, 1.058335865297779E+01,
        8.049435901962407E+01, 7.392282742613564E+01,  2451516.163243680727,
        2.141948373214937E-01, 6.176684328649046E+00, 7.246717240568533E+00,
        2.766496021360866E+00, 2.983321992217538E+00, 1.680712777683159E+03
      ))

      sol.addChild(new KeplerBody(
        "Pallas",
        2.296435661959941E-01, 2.135676465810611E+00, 3.484613627101812E+01,
        1.731978001601968E+02, 3.102656523782881E+02,  2451577.969891834073,
        2.135199465215411E-01, 3.529602704587259E+02, 3.484836290785369E+02,
        2.772322488779227E+00, 3.408968511747843E+00, 1.686025150646435E+03
      ))

      sol.addChild(new KeplerBody(
        "Vesta",
        9.002243690231450E-02, 2.148943809018091E+00, 7.133933887603245E+00,
        1.039514574792090E+02, 1.495866294106253E+02,  2451614.870770818554,
        2.715892093873926E-01, 3.410238525941048E+02, 3.372748455329115E+02,
        2.361534939062452E+00, 2.574126069106812E+00, 1.325531308154806E+03
      ))

      sol.addChild(new KeplerBody(
        "Hygeia",
        1.194647813114173E-01, 2.763490530878634E+00, 3.842649982800825E+00,
        2.836631704969067E+02, 3.143682691341799E+02,  2451662.251063035801,
        1.772707978371678E-01, 3.392148105083789E+02, 3.335838652200588E+02,
        3.138421351271348E+00, 3.513352171664062E+00, 2.030791333892896E+03
      ))

      sol.addChild(new KeplerBody(
        "Interamnia",
        1.461352345506762E-01, 2.616224813639418E+00, 1.732332691440113E+01,
        2.806565036601603E+02, 9.451457280866907E+01,  2452183.905824447982,
        1.837702146279859E-01, 2.425881395140818E+02, 2.290055381565955E+02,
        3.063980292315609E+00, 3.511735770991800E+00, 1.958968164284749E+03
      ))

      sol.addChild(new KeplerBody(
        "Europa",
        1.009761297624277E-01, 2.785973343289546E+00, 7.467845556830303E+00,
        1.290465133474808E+02, 3.423292737476411E+02,  2451308.984697318636,
        1.806739224727346E-01, 4.264181049901781E+01, 5.124593016424446E+01,
        3.098886954529179E+00, 3.411800565768812E+00, 1.992539903229961E+03
      ))

      sol.addChild(new KeplerBody(
        "Davida",
        1.830778709199325E-01, 2.589650379514559E+00, 1.594246848285670E+01,
        1.077642275873270E+02, 3.388845439377725E+02,  2450525.383035807870,
        1.746277915704620E-01, 1.780534587046598E+02, 1.786327358434080E+02,
        3.170008850697621E+00, 3.750367321880685E+00, 2.061527530998641E+03
      ))

      sol.addChild(new KeplerBody(
        "Sylvia",
        7.994419867334075E-02, 3.207973518905905E+00, 1.085888457141809E+01,
        7.334295592511063E+01, 2.674493005897960E+02,  2450878.457644512877,
        1.513837168589918E-01, 1.009036592176001E+02, 1.096976354321030E+02,
        3.486716255992540E+00, 3.765458993079174E+00, 2.378062895201116E+03
      ))

      sol.addChild(new KeplerBody(
        "Cybele",
        1.036042503720009E-01, 3.078104438974397E+00, 3.547631164669576E+00,
        1.558389915789920E+02, 1.064565471467691E+02,  2452297.245012244210,
        1.548919081607094E-01, 2.434833346491149E+02, 2.334923325621526E+02,
        3.433867731135271E+00, 3.789631023296145E+00, 2.324201465879540E+03
      ))

      sol.addChild(new KeplerBody(
        "Eunomia",
        1.862037130643558E-01, 2.151467083240580E+00, 1.174734104759529E+01,
        2.935162203671445E+02, 9.696007749174301E+01,  2451077.620284584351,
        2.292849615897351E-01, 1.071631400968843E+02, 1.259011589672746E+02,
        2.643741582235458E+00, 3.136016081230335E+00, 1.570098612241986E+03
      ))

      sol.addChild(new KeplerBody(
        "Juno",
        2.584434357428058E-01, 1.978498799234980E+00, 1.296741968628721E+01,
        1.701726367410528E+02, 2.480316934302164E+02,  2452074.408816703595,
        2.261605297727743E-01, 2.402686215479762E+02, 2.186286873192898E+02,
        2.668034907380008E+00, 3.357571015525036E+00, 1.591789691869291E+03
      ))

      sol.addChild(new KeplerBody(
        "Euphrosyne",
        2.277646536287345E-01, 2.429577276817824E+00, 2.634519016249014E+01,
        3.129177622076273E+01, 6.235091533117577E+01,  2451978.981350477319,
        1.766170035528352E-01, 2.833515142808992E+02, 2.571284841129606E+02,
        3.146161708648030E+00, 3.862746140478237E+00, 2.038308842060643E+03
      ))

      sol.addChild(new KeplerBody(
        "Hektor",
        2.313718292308413E-02, 5.088852491178951E+00, 1.821023280094225E+01,
        3.427908211966478E+02, 1.792552334149958E+02,  2452104.123635028955,
        8.289429629369412E-02, 3.136518397330843E+02, 3.116948156569646E+02,
        5.209382937111288E+00, 5.329913383043625E+00, 4.342880223321055E+03
      ))

      sol.addChild(new KeplerBody(
        "Thisbe",
        1.614257424420277E-01, 2.321478692104403E+00, 5.222479319748969E+00,
        2.768912339637915E+02, 3.514886344925819E+01,  2451636.668330839835,
        2.139780920170964E-01, 3.403849854684910E+02, 3.327582539145932E+02,
        2.768363888088843E+00, 3.215249084073284E+00, 1.682415225813102E+03
      ))

      sol.addChild(new KeplerBody(
        "Bamberga",
        3.377314503524221E-01, 1.777411144994970E+00, 1.109964150525982E+01,
        3.281001346216074E+02, 4.428528800315794E+01,  2451776.304391608573,
        2.241678995340831E-01, 3.081489803801280E+02, 2.702361693846956E+02,
        2.683822364720186E+00, 3.590233584445403E+00, 1.605939123077989E+03
      ))

      sol.addChild(new KeplerBody(
        "Patientia",
        7.548360481188128E-02, 2.828345090670375E+00, 1.523575713964870E+01,
        8.946515058322487E+01, 3.429370220826288E+02,  2452203.625069758855,
        1.841948162764248E-01, 2.386846762807020E+02, 2.316585801692382E+02,
        3.059269803533196E+00, 3.290194516396018E+00, 1.954452395987848E+03
      ))

      sol.addChild(new KeplerBody(
        "Herculina",
        1.770850959814179E-01, 2.280821462374452E+00, 1.630609464038328E+01,
        1.076625246529934E+02, 7.674743338013862E+01,  2451934.345034935512,
        2.135991545694943E-01, 2.768362297019485E+02, 2.565751634875400E+02,
        2.771637080865107E+00, 3.262452699355761E+00, 1.685399929253345E+03
      ))

      sol.addChild(new KeplerBody(
        "Doris",
        7.375069592636554E-02, 2.878551838834422E+00, 6.548881667192425E+00,
        1.839611487217368E+02, 2.604648009833716E+02,  2452246.387597824913,
        1.799015203324987E-01, 2.338193048089029E+02, 2.273641631647255E+02,
        3.107750609014854E+00, 3.336949379195286E+00, 2.001094817512595E+03
      ))

      sol.addChild(new KeplerBody(
        "Ursula",
        1.072944614505632E-01, 2.788291324137154E+00, 1.593221278407799E+01,
        3.367102249507126E+02, 3.456563600913859E+02,  2450911.265368625056,
        1.785497295204717E-01, 1.131531470197731E+02, 1.238289360389233E+02,
        3.123416629259259E+00, 3.458541934381365E+00, 2.016245003377191E+03
      ))

      sol.addChild(new KeplerBody(
        "Camilla",
        7.949924367995714E-02, 3.198134671621318E+00, 1.004945365006526E+01,
        1.731786166298851E+02, 3.085111001648853E+02,  2451711.770552929956,
        1.521931748766533E-01, 3.346186600736864E+02, 3.303343420793894E+02,
        3.474342253021876E+00, 3.750549834422434E+00, 2.365414876795665E+03
      ))

      sol.addChild(new KeplerBody(
        "Eugenia",
        8.297489996031668E-02, 2.494481714994303E+00, 6.611209185607604E+00,
        1.479766924941783E+02, 8.647585794132345E+01,  2451861.455457963515,
        2.196875376441270E-01, 2.904786796659199E+02, 2.812763864164486E+02,
        2.720189136465684E+00, 2.945896557937064E+00, 1.638691042107112E+03
      ))

      sol.addChild(new KeplerBody(
        "Iris",
        2.303982831122700E-01, 1.835759444786123E+00, 5.524144818703846E+00,
        2.598742641308049E+02, 1.450800581035616E+02,  2451345.389263205230,
        2.675342931692665E-01, 5.340271737741614E+01, 7.814170220964974E+01,
        2.385336992503000E+00, 2.934914540219876E+00, 1.345621885461358E+03
      ))

      sol.addChild(new KeplerBody(
        "Amphitrite",
        7.222850940771609E-02, 2.369825479281995E+00, 6.102726717746252E+00,
        3.565671179800313E+02, 6.201171739151869E+01,  2451451.516754485667,
        2.414299039662701E-01, 2.256965098698496E+01, 2.603195944937919E+01,
        2.554320221425550E+00, 2.738814963569105E+00, 1.491116030308720E+03
      ))

      sol.addChild(new KeplerBody(
        "Diotima",
        4.040505060810961E-02, 2.941373839493492E+00, 1.124019900031334E+01,
        6.958375908152195E+01, 2.096282800444803E+02,  2452433.216053846758,
        1.836583447668503E-01, 1.968717097551836E+02, 1.955900902721701E+02,
        3.065224385932298E+00, 3.189074932371104E+00, 1.960161409801505E+03
      ))

      sol.addChild(new KeplerBody(
        "Fortuna",
        1.581049805619749E-01, 2.056499747187004E+00, 1.571906880287703E+00,
        2.114901176012221E+02, 1.819746907041298E+02,  2450866.822302072775,
        2.581653744935209E-01, 1.750819993585540E+02, 1.763783687124049E+02,
        2.442703305882178E+00, 2.828906864577351E+00, 1.394455010499616E+03
      ))

      sol.addChild(new KeplerBody(
        "Egeria",
        8.490106399898487E-02, 2.358237588842647E+00, 1.654143541006942E+01,
        4.332538127900983E+01, 8.050572468040001E+01,  2451771.261596146971,
        2.382455586314615E-01, 3.060941796291174E+02, 2.977398615270104E+02,
        2.577030194295878E+00, 2.795822799749109E+00, 1.511046006766819E+03
      ))

      sol.addChild(new KeplerBody(
        "Themis",
        1.343435997230332E-01, 2.706047676568940E+00, 7.616733942076277E-01,
        3.606450937035841E+01, 1.091020301691014E+02,  2450542.506615945138,
        1.783278709165097E-01, 1.787725107864115E+02, 1.790546782837137E+02,
        3.126006664657178E+00, 3.545965652745416E+00, 2.018753423958873E+03
      ))

      sol.addChild(new KeplerBody(
        "Aurora",
        8.315776374461230E-02, 2.900227168155098E+00, 7.981385099687252E+00,
        2.863852572711816E+00, 5.706559157130026E+01,  2450662.083379964344,
        1.751854232532829E-01, 1.546741217782880E+02, 1.583966536464631E+02,
        3.163278319288986E+00, 3.426329470422874E+00, 2.054965494928836E+03
      ))

      sol.addChild(new KeplerBody(
        "Alauda",
        2.494316883872223E-02, 3.114528878693471E+00, 2.059366414652416E+01,
        2.901652410448563E+02, 3.573701999630017E+02,  2452074.496460359544,
        1.726475519401360E-01, 2.685837323579527E+02, 2.657297098443537E+02,
        3.194202408678185E+00, 3.273875938662898E+00, 2.085172919942860E+03
      ))

      sol.addChild(new KeplerBody(
        "Hermione",
        1.460650316474938E-01, 2.938583444509742E+00, 7.580499531033298E+00,
        7.352665434354144E+01, 2.944025427978489E+02,  2452479.791709349491,
        1.543953547904362E-01, 2.156725023798292E+02, 2.072078850027648E+02,
        3.441226268294342E+00, 3.943869092078941E+00, 2.331676367392238E+03
      ))

      sol.addChild(new KeplerBody(
        "Palma",
        2.640085811485732E-01, 2.312300701416029E+00, 2.386781873609877E+01,
        3.275241837992792E+02, 1.162512564501353E+02,  2451967.888271688484,
        1.769891867460490E-01, 2.851533487093998E+02, 2.547177737476543E+02,
        3.141749539722294E+00, 3.971198378028561E+00, 2.034022567246111E+03
      ))

      sol.addChild(new KeplerBody(
        "Nemesis",
        1.275899748577505E-01, 2.399008556022341E+00, 6.253157824767183E+00,
        7.648565717584628E+01, 3.035429773029755E+02,  2451602.791285512969,
        2.161410962849559E-01, 3.475089281935506E+02, 3.437713615413066E+02,
        2.749863581211340E+00, 3.100718606400339E+00, 1.665578671468306E+03
      ))

      sol.addChild(new KeplerBody(
        "Hebe",
        2.021512971187203E-01, 1.934656632277731E+00, 1.476792180562919E+01,
        1.388649838358451E+02, 2.389499669955937E+02,  2451368.487880930770,
        2.610231606414035E-01, 4.607375121099788E+01, 6.585873846963136E+01,
        2.424841483468087E+00, 2.915026334658443E+00, 1.379187958322871E+03
      ))

      sol.addChild(new KeplerBody(
        "Psyche",
        1.382418390491949E-01, 2.516821072752696E+00, 3.093366419227233E+00,
        1.504660317786795E+02, 2.291189588995035E+02,  2451668.601715288591,
        1.974711561910514E-01, 3.355922263747851E+02, 3.278587607737162E+02,
        2.920565405468058E+00, 3.324309738183420E+00, 1.823051056893107E+03
      ))

      sol.addChild(new KeplerBody(
        "Lachesis",
        6.264277374296938E-02, 2.919861859233824E+00, 6.955316080831201E+00,
        3.415789313656879E+02, 2.342609970830225E+02,  2451266.866513757035,
        1.792744149391798E-01, 4.986221802123997E+01, 5.563127510370260E+01,
        3.114993705114057E+00, 3.310125550994290E+00, 2.008094686138749E+03
      ))

      sol.addChild(new KeplerBody(
        "Daphne",
        2.744480956809360E-01, 2.003514377428924E+00, 1.577085620197619E+01,
        1.783384151003206E+02, 4.606479793011239E+01,  2451267.697471193038,
        2.147920032160195E-01, 5.956236565928499E+01, 9.068647818817706E+01,
        2.761366024267053E+00, 3.519217671105182E+00, 1.676040050885613E+03
      ))

      sol.addChild(new KeplerBody(
        "Metis",
        1.216674177409227E-01, 2.096256459227364E+00, 5.578530867714814E+00,
        6.900302903330126E+01, 5.832797995778000E+00,  2452176.401465041563,
        2.673166090281137E-01, 1.912159014297264E+02, 1.888582069538841E+02,
        2.386631785690767E+00, 2.677007112154170E+00, 1.346717666772957E+03
      ))

      start = Date.now()
      setInterval(function() {
        var day = (Date.now() - start) * 0.001

        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)
        ctx.save()
        ctx.translate(ctx.canvas.width * 0.5, ctx.canvas.height * 0.5)
        ctx.scale(72, 72)
        sol.draw(ctx, day * 365.25 / 12)
        ctx.restore()
      }, 1000 / 60)
    </script>
  </body>
</html>
